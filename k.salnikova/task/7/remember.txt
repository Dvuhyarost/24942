    "то такое mmap и чем он лучше read/write

Преимущества: меньше системных вызовов, кэширование, простота случайного доступа

Недостатки: overhead для маленьких файлов, потребление виртуальной памяти

    MAP_PRIVATE вместо MAP_SHARED

Мы только читаем файл, не изменяем его

MAP_PRIVATE создает копию при записи, что безопаснее

Что происходит при обращении к отображенной памяти

Page fault → ОС подгружает страницу из файла → продолжение выполнения


    При MAP_PRIVATE мы работаем с snapshot на момент mmap

    При MAP_SHARED изменения могут быть видны



    В чем разница между SEEK_SET, SEEK_CUR, SEEK_END?

SEEK_SET - от начала файла

SEEK_CUR - от текущей позиции

SEEK_END - от конца файла